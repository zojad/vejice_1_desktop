{"version":3,"file":"commands.16f2c544c124940be931.hot-update.js","mappings":"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","sources":["webpack://office-addin-taskpane-js/./src/logic/preveriVejice.js","webpack://office-addin-taskpane-js/webpack/runtime/getFullHash"],"sourcesContent":["/* global Word, window, process, performance, console, Office, URL */\r\nimport { popraviPoved, popraviPovedDetailed } from \"../api/apiVejice.js\";\r\nimport { isWordOnline } from \"../utils/host.js\";\r\n\r\n/** \r\n *  DEBUG helpers (flip DEBUG=false to silence logs)\r\n *   */\r\nconst envIsProd = () =>\r\n  (typeof process !== \"undefined\" && process.env?.NODE_ENV === \"production\") ||\r\n  (typeof window !== \"undefined\" && window.__VEJICE_ENV__ === \"production\");\r\nconst DEBUG_OVERRIDE =\r\n  typeof window !== \"undefined\" && typeof window.__VEJICE_DEBUG__ === \"boolean\"\r\n    ? window.__VEJICE_DEBUG__\r\n    : undefined;\r\nconst DEBUG = typeof DEBUG_OVERRIDE === \"boolean\" ? DEBUG_OVERRIDE : !envIsProd();\r\nconst log = (...a) => DEBUG && console.log(\"[Vejice CHECK]\", ...a);\r\nconst warn = (...a) => DEBUG && console.warn(\"[Vejice CHECK]\", ...a);\r\nconst errL = (...a) => console.error(\"[Vejice CHECK]\", ...a);\r\nconst tnow = () => performance?.now?.() ?? Date.now();\r\nconst SNIP = (s, n = 80) => (typeof s === \"string\" ? s.slice(0, n) : s);\r\nconst MAX_AUTOFIX_PASSES =\r\n  typeof Office !== \"undefined\" && Office?.context?.platform === \"PC\" ? 3 : 2;\r\n\r\nconst HIGHLIGHT_INSERT = \"#FFF9C4\"; // light yellow\r\nconst HIGHLIGHT_DELETE = \"#FFCDD2\"; // light red\r\n\r\nconst pendingSuggestionsOnline = [];\r\nconst MAX_PARAGRAPH_CHARS = 1000;\r\nconst LONG_PARAGRAPH_MESSAGE =\r\n  \"Odstavek je predolg za preverjanje. Razdelite ga na ve odstavkov in poskusite znova.\";\r\nfunction resetPendingSuggestionsOnline() {\r\n  pendingSuggestionsOnline.length = 0;\r\n}\r\nfunction addPendingSuggestionOnline(suggestion) {\r\n  pendingSuggestionsOnline.push(suggestion);\r\n}\r\nexport function getPendingSuggestionsOnline(debugSnapshot = false) {\r\n  if (!debugSnapshot) return pendingSuggestionsOnline;\r\n  return pendingSuggestionsOnline.map((sug) => ({\r\n    id: sug?.id,\r\n    kind: sug?.kind,\r\n    paragraphIndex: sug?.paragraphIndex,\r\n    metadata: sug?.metadata,\r\n    originalPos: sug?.originalPos,\r\n    leftWord: sug?.leftWord,\r\n    leftSnippet: sug?.leftSnippet,\r\n    rightSnippet: sug?.rightSnippet,\r\n  }));\r\n}\r\n\r\nif (typeof window !== \"undefined\") {\r\n  window.__VEJICE_DEBUG_STATE__ = window.__VEJICE_DEBUG_STATE__ || {};\r\n  window.__VEJICE_DEBUG_STATE__.getPendingSuggestionsOnline = getPendingSuggestionsOnline;\r\n  window.__VEJICE_DEBUG_STATE__.getParagraphAnchorsOnline = () => paragraphTokenAnchorsOnline;\r\n  window.getPendingSuggestionsOnline = getPendingSuggestionsOnline;\r\n  window.getPendingSuggestionsSnapshot = () => getPendingSuggestionsOnline(true);\r\n}\r\n\r\nconst paragraphsTouchedOnline = new Set();\r\nfunction resetParagraphsTouchedOnline() {\r\n  paragraphsTouchedOnline.clear();\r\n}\r\nfunction markParagraphTouched(paragraphIndex) {\r\n  if (typeof paragraphIndex === \"number\" && paragraphIndex >= 0) {\r\n    paragraphsTouchedOnline.add(paragraphIndex);\r\n  }\r\n}\r\n\r\nlet toastDialog = null;\r\nfunction showToastNotification(message) {\r\n  if (!message) return;\r\n  if (typeof Office === \"undefined\" || !Office.context?.ui?.displayDialogAsync) {\r\n    warn(\"Toast notification unavailable\", message);\r\n    return;\r\n  }\r\n  const origin =\r\n    (typeof window !== \"undefined\" && window.location && window.location.origin) || null;\r\n  if (!origin) {\r\n    warn(\"Toast notification: origin unavailable\");\r\n    return;\r\n  }\r\n  const toastUrl = new URL(\"toast.html\", origin);\r\n  toastUrl.searchParams.set(\"message\", message);\r\n  Office.context.ui.displayDialogAsync(\r\n    toastUrl.toString(),\r\n    { height: 20, width: 30, displayInIframe: true },\r\n    (asyncResult) => {\r\n      if (asyncResult.status !== Office.AsyncResultStatus.Succeeded) {\r\n        warn(\"Toast notification failed\", asyncResult.error);\r\n        return;\r\n      }\r\n      if (toastDialog) {\r\n        try {\r\n          toastDialog.close();\r\n        } catch (err) {\r\n          warn(\"Toast notification: failed to close previous dialog\", err);\r\n        }\r\n      }\r\n      toastDialog = asyncResult.value;\r\n      const closeDialog = () => {\r\n        if (!toastDialog) return;\r\n        try {\r\n          toastDialog.close();\r\n        } catch (err) {\r\n          warn(\"Toast notification: failed to close dialog\", err);\r\n        } finally {\r\n          toastDialog = null;\r\n        }\r\n      };\r\n      toastDialog.addEventHandler(Office.EventType.DialogMessageReceived, closeDialog);\r\n      toastDialog.addEventHandler(Office.EventType.DialogEventReceived, closeDialog);\r\n    }\r\n  );\r\n}\r\n\r\nfunction notifyParagraphTooLong(paragraphIndex, length) {\r\n  const label = paragraphIndex + 1;\r\n  const msg = `Odstavek ${label}: ${LONG_PARAGRAPH_MESSAGE} (${length} znakov).`;\r\n  warn(\"Paragraph too long  skipped\", { paragraphIndex, length });\r\n  showToastNotification(msg);\r\n}\r\n\r\nconst paragraphTokenAnchorsOnline = [];\r\nfunction resetParagraphTokenAnchorsOnline() {\r\n  paragraphTokenAnchorsOnline.length = 0;\r\n}\r\nfunction setParagraphTokenAnchorsOnline(paragraphIndex, anchors) {\r\n  paragraphTokenAnchorsOnline[paragraphIndex] = anchors;\r\n}\r\nfunction getParagraphTokenAnchorsOnline(paragraphIndex) {\r\n  return paragraphTokenAnchorsOnline[paragraphIndex];\r\n}\r\n\r\nfunction createParagraphTokenAnchors({\r\n  paragraphIndex,\r\n  originalText = \"\",\r\n  correctedText = \"\",\r\n  sourceTokens = [],\r\n  targetTokens = [],\r\n  documentOffset = 0,\r\n}) {\r\n  const safeOriginal = typeof originalText === \"string\" ? originalText : \"\";\r\n  const safeCorrected = typeof correctedText === \"string\" ? correctedText : \"\";\r\n  const normalizedSource = normalizeTokenList(sourceTokens, \"s\");\r\n  const normalizedTarget = normalizeTokenList(targetTokens, \"t\");\r\n  const entry = {\r\n    paragraphIndex,\r\n    documentOffset,\r\n    originalText: safeOriginal,\r\n    correctedText: safeCorrected,\r\n    sourceTokens: normalizedSource,\r\n    targetTokens: normalizedTarget,\r\n    sourceAnchors: mapTokensToParagraphText(\r\n      paragraphIndex,\r\n      safeOriginal,\r\n      normalizedSource,\r\n      documentOffset\r\n    ),\r\n    targetAnchors: mapTokensToParagraphText(\r\n      paragraphIndex,\r\n      safeCorrected,\r\n      normalizedTarget,\r\n      documentOffset\r\n    ),\r\n  };\r\n  setParagraphTokenAnchorsOnline(paragraphIndex, entry);\r\n  return entry;\r\n}\r\n\r\nfunction normalizeTokenList(tokens, prefix) {\r\n  if (!Array.isArray(tokens)) return [];\r\n  const normalized = [];\r\n  const idCounts = Object.create(null);\r\n  for (let i = 0; i < tokens.length; i++) {\r\n    const token = normalizeToken(tokens[i], prefix, i);\r\n    if (!token) continue;\r\n    const baseId = typeof token.id === \"string\" && token.id.length ? token.id : `${prefix}${i + 1}`;\r\n    const count = idCounts[baseId] ?? 0;\r\n    idCounts[baseId] = count + 1;\r\n    token.id = count === 0 ? baseId : `${baseId}#${count + 1}`;\r\n    token.originalId = baseId;\r\n    token.occurrence = count;\r\n    normalized.push(token);\r\n  }\r\n  return normalized;\r\n}\r\n\r\nfunction normalizeToken(rawToken, prefix, index) {\r\n  if (rawToken === null || typeof rawToken === \"undefined\") return null;\r\n  if (typeof rawToken === \"string\") {\r\n    return {\r\n      id: `${prefix}${index + 1}`,\r\n      text: rawToken,\r\n      raw: rawToken,\r\n    };\r\n  }\r\n  if (typeof rawToken === \"object\") {\r\n    const idCandidate =\r\n      rawToken.token_id ??\r\n      rawToken.tokenId ??\r\n      rawToken.id ??\r\n      rawToken.ID ??\r\n      rawToken.name ??\r\n      rawToken.key;\r\n    const textCandidate =\r\n      rawToken.token ??\r\n      rawToken.text ??\r\n      rawToken.form ??\r\n      rawToken.value ??\r\n      rawToken.surface ??\r\n      rawToken.word;\r\n    const trailing =\r\n      rawToken.whitespace ??\r\n      rawToken.trailing_ws ??\r\n      rawToken.trailingWhitespace ??\r\n      rawToken.after ??\r\n      rawToken.space ??\r\n      \"\";\r\n    const leading =\r\n      rawToken.leading_ws ?? rawToken.leadingWhitespace ?? rawToken.before ?? rawToken.prefix ?? \"\";\r\n    return {\r\n      id: typeof idCandidate === \"string\" ? idCandidate : `${prefix}${index + 1}`,\r\n      text: typeof textCandidate === \"string\" ? textCandidate : \"\",\r\n      trailingWhitespace: typeof trailing === \"string\" ? trailing : \"\",\r\n      leadingWhitespace: typeof leading === \"string\" ? leading : \"\",\r\n      raw: rawToken,\r\n    };\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction mapTokensToParagraphText(paragraphIndex, paragraphText, tokens, documentOffset = 0) {\r\n  const byId = Object.create(null);\r\n  const ordered = [];\r\n  if (!Array.isArray(tokens) || !tokens.length) {\r\n    return { byId, ordered };\r\n  }\r\n  const safeParagraph = typeof paragraphText === \"string\" ? paragraphText : \"\";\r\n  const textOccurrences = Object.create(null);\r\n  const trimmedOccurrences = Object.create(null);\r\n  let cursor = 0;\r\n\r\n  for (let i = 0; i < tokens.length; i++) {\r\n    const token = tokens[i];\r\n    const tokenText = token?.text ?? \"\";\r\n    const tokenId = token?.id ?? `tok${i + 1}`;\r\n    const tokenLength = tokenText.length;\r\n    const charStart = resolveTokenPosition(safeParagraph, tokenText, cursor);\r\n    const charEnd = charStart >= 0 ? charStart + tokenLength : -1;\r\n\r\n    if (charStart >= 0) {\r\n      cursor = charEnd;\r\n    } else if (tokenText) {\r\n      warn(\"Token mapping failed\", { paragraphIndex, tokenId, tokenText, cursor });\r\n    }\r\n\r\n    const textKey = tokenText || \"\";\r\n    const trimmedKey = textKey.trim();\r\n    const occurrence = textOccurrences[textKey] ?? 0;\r\n    textOccurrences[textKey] = occurrence + 1;\r\n    const trimmedOccurrence =\r\n      trimmedKey && trimmedKey !== textKey ? (trimmedOccurrences[trimmedKey] ?? 0) : occurrence;\r\n    if (trimmedKey && trimmedKey !== textKey) {\r\n      trimmedOccurrences[trimmedKey] = trimmedOccurrence + 1;\r\n    }\r\n\r\n    const anchor = {\r\n      paragraphIndex,\r\n      tokenId,\r\n      tokenIndex: i,\r\n      tokenText,\r\n      length: tokenLength,\r\n      textOccurrence: occurrence,\r\n      trimmedTextOccurrence: trimmedKey ? trimmedOccurrence : occurrence,\r\n      charStart,\r\n      charEnd,\r\n      documentCharStart: charStart >= 0 ? documentOffset + charStart : -1,\r\n      documentCharEnd: charEnd >= 0 ? documentOffset + charEnd : -1,\r\n      matched: charStart >= 0,\r\n    };\r\n    byId[tokenId] = anchor;\r\n    ordered.push(anchor);\r\n  }\r\n\r\n  return { byId, ordered };\r\n}\r\n\r\nfunction resolveTokenPosition(text, tokenText, fromIndex) {\r\n  if (!tokenText || typeof text !== \"string\") return -1;\r\n  const textLength = text.length;\r\n  if (!textLength) return -1;\r\n  let searchStart = fromIndex;\r\n  if (searchStart < 0) searchStart = 0;\r\n  if (searchStart > textLength) searchStart = textLength;\r\n\r\n  let idx = text.indexOf(tokenText, searchStart);\r\n  if (idx !== -1) return idx;\r\n\r\n  const trimmed = tokenText.trim();\r\n  if (trimmed && trimmed !== tokenText) {\r\n    idx = text.indexOf(trimmed, searchStart);\r\n    if (idx !== -1) return idx;\r\n  }\r\n\r\n  if (searchStart > 0) {\r\n    const retryStart = Math.max(0, searchStart - tokenText.length - 1);\r\n    idx = text.indexOf(tokenText, retryStart);\r\n    if (idx !== -1) return idx;\r\n  }\r\n  return text.indexOf(tokenText);\r\n}\r\n\r\nfunction selectTokenAnchors(entry, type) {\r\n  if (!entry) return null;\r\n  return type === \"target\" ? entry.targetAnchors : entry.sourceAnchors;\r\n}\r\n\r\nfunction snapshotAnchor(anchor) {\r\n  if (!anchor) return undefined;\r\n  return {\r\n    tokenId: anchor.tokenId,\r\n    tokenIndex: anchor.tokenIndex,\r\n    tokenText: anchor.tokenText,\r\n    textOccurrence: anchor.textOccurrence,\r\n    trimmedTextOccurrence: anchor.trimmedTextOccurrence,\r\n    charStart: anchor.charStart,\r\n    charEnd: anchor.charEnd,\r\n    documentCharStart: anchor.documentCharStart,\r\n    documentCharEnd: anchor.documentCharEnd,\r\n    length: anchor.length,\r\n    matched: anchor.matched,\r\n  };\r\n}\r\n\r\nfunction findAnchorsNearChar(entry, type, charIndex) {\r\n  const collection = selectTokenAnchors(entry, type);\r\n  if (!collection?.ordered?.length || typeof charIndex !== \"number\" || charIndex < 0) {\r\n    return { before: null, at: null, after: null };\r\n  }\r\n  let before = null;\r\n  for (let i = 0; i < collection.ordered.length; i++) {\r\n    const anchor = collection.ordered[i];\r\n    if (!anchor || anchor.charStart < 0) continue;\r\n    if (charIndex >= anchor.charStart && charIndex <= anchor.charEnd) {\r\n      return {\r\n        before: before ?? anchor,\r\n        at: anchor,\r\n        after: findNextAnchorWithPosition(collection.ordered, i + 1),\r\n      };\r\n    }\r\n    if (anchor.charStart > charIndex) {\r\n      return {\r\n        before,\r\n        at: null,\r\n        after: anchor,\r\n      };\r\n    }\r\n    before = anchor;\r\n  }\r\n  return { before, at: null, after: null };\r\n}\r\n\r\nfunction findNextAnchorWithPosition(list, startIndex) {\r\n  if (!Array.isArray(list)) return null;\r\n  for (let i = startIndex; i < list.length; i++) {\r\n    const anchor = list[i];\r\n    if (anchor && anchor.charStart >= 0) return anchor;\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction countSnippetOccurrencesBefore(text, snippet, limit) {\r\n  if (!snippet) return 0;\r\n  const safeText = typeof text === \"string\" ? text : \"\";\r\n  const hop = Math.max(1, snippet.length);\r\n  let count = 0;\r\n  let idx = safeText.indexOf(snippet);\r\n  while (idx !== -1 && idx < limit) {\r\n    count++;\r\n    idx = safeText.indexOf(snippet, idx + hop);\r\n  }\r\n  return count;\r\n}\r\n\r\nasync function getRangeForCharacterSpan(\r\n  context,\r\n  paragraph,\r\n  paragraphText,\r\n  charStart,\r\n  charEnd,\r\n  reason = \"span\",\r\n  fallbackSnippet\r\n) {\r\n  if (!paragraph || typeof paragraph.getRange !== \"function\") return null;\r\n  if (!Number.isFinite(charStart) || charStart < 0) return null;\r\n  const text = typeof paragraphText === \"string\" ? paragraphText : paragraph.text || \"\";\r\n  if (!text) return null;\r\n  const safeStart = Math.max(0, Math.min(Math.floor(charStart), text.length ? text.length - 1 : 0));\r\n  const computedEnd = Math.max(safeStart + 1, Math.floor(charEnd ?? safeStart + 1));\r\n  const safeEnd = Math.min(computedEnd, text.length);\r\n  let snippet = text.slice(safeStart, safeEnd);\r\n  if (!snippet && typeof fallbackSnippet === \"string\" && fallbackSnippet.length) {\r\n    snippet = fallbackSnippet;\r\n  }\r\n  if (!snippet) return null;\r\n\r\n  try {\r\n    const matches = paragraph.getRange().search(snippet, {\r\n      matchCase: true,\r\n      matchWholeWord: false,\r\n      ignoreSpace: false,\r\n      ignorePunct: false,\r\n    });\r\n    matches.load(\"items\");\r\n    await context.sync();\r\n    if (!matches.items.length) {\r\n      warn(`getRangeForCharacterSpan(${reason}): snippet not found`, { snippet, safeStart });\r\n      return null;\r\n    }\r\n    const occurrence = countSnippetOccurrencesBefore(text, snippet, safeStart);\r\n    const idx = Math.min(occurrence, matches.items.length - 1);\r\n    return matches.items[idx];\r\n  } catch (err) {\r\n    warn(`getRangeForCharacterSpan(${reason}) failed`, err);\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction buildDeleteSuggestionMetadata(entry, charIndex) {\r\n  const sourceAround = findAnchorsNearChar(entry, \"source\", charIndex);\r\n  const documentOffset = entry?.documentOffset ?? 0;\r\n  const charStart = Math.max(0, charIndex);\r\n  const charEnd = charStart + 1;\r\n  const paragraphText = entry?.originalText ?? \"\";\r\n  const highlightText = paragraphText.slice(charStart, charEnd) || \",\";\r\n  return {\r\n    kind: \"delete\",\r\n    paragraphIndex: entry?.paragraphIndex ?? -1,\r\n    charStart,\r\n    charEnd,\r\n    documentCharStart: documentOffset + charStart,\r\n    documentCharEnd: documentOffset + charEnd,\r\n    sourceTokenBefore: snapshotAnchor(sourceAround.before),\r\n    sourceTokenAt: snapshotAnchor(sourceAround.at),\r\n    sourceTokenAfter: snapshotAnchor(sourceAround.after),\r\n    highlightText,\r\n  };\r\n}\r\n\r\nfunction buildInsertSuggestionMetadata(entry, { originalCharIndex, targetCharIndex }) {\r\n  const srcIndex = typeof originalCharIndex === \"number\" ? originalCharIndex : -1;\r\n  const targetIndex = typeof targetCharIndex === \"number\" ? targetCharIndex : srcIndex;\r\n  const sourceAround = findAnchorsNearChar(entry, \"source\", srcIndex);\r\n  const targetAround = findAnchorsNearChar(entry, \"target\", targetIndex);\r\n  const documentOffset = entry?.documentOffset ?? 0;\r\n  const highlightAnchor =\r\n    sourceAround.after ??\r\n    sourceAround.at ??\r\n    sourceAround.before ??\r\n    targetAround.before ??\r\n    targetAround.at ??\r\n    targetAround.after;\r\n  const highlightCharStart = highlightAnchor?.charStart ?? srcIndex;\r\n  const highlightCharEnd = highlightAnchor?.charEnd ?? srcIndex;\r\n  const paragraphText = entry?.originalText ?? \"\";\r\n  let highlightText = \"\";\r\n  if (highlightCharStart >= 0 && highlightCharEnd > highlightCharStart) {\r\n    highlightText = paragraphText.slice(highlightCharStart, highlightCharEnd);\r\n  }\r\n  if (!highlightText && highlightCharStart >= 0) {\r\n    highlightText = paragraphText.slice(highlightCharStart, highlightCharStart + 1);\r\n  }\r\n\r\n  return {\r\n    kind: \"insert\",\r\n    paragraphIndex: entry?.paragraphIndex ?? -1,\r\n    targetCharStart: targetIndex,\r\n    targetCharEnd: targetIndex >= 0 ? targetIndex + 1 : targetIndex,\r\n    targetDocumentCharStart: targetIndex >= 0 ? documentOffset + targetIndex : targetIndex,\r\n    targetDocumentCharEnd: targetIndex >= 0 ? documentOffset + targetIndex + 1 : targetIndex,\r\n    highlightCharStart,\r\n    highlightCharEnd,\r\n    highlightText,\r\n    sourceTokenBefore: snapshotAnchor(sourceAround.before),\r\n    sourceTokenAt: snapshotAnchor(sourceAround.at),\r\n    sourceTokenAfter: snapshotAnchor(sourceAround.after),\r\n    targetTokenBefore: snapshotAnchor(targetAround.before),\r\n    targetTokenAt: snapshotAnchor(targetAround.at),\r\n    targetTokenAfter: snapshotAnchor(targetAround.after),\r\n    highlightAnchorTarget: snapshotAnchor(highlightAnchor),\r\n  };\r\n}\r\n\r\n/** \r\n *  Helpers: znaki & pravila\r\n *   */\r\nconst QUOTES = new Set(['\"', \"'\", \"\", \"\", \"\", \"\", \"\"]);\r\nconst isDigit = (ch) => ch >= \"0\" && ch <= \"9\";\r\nconst charAtSafe = (s, i) => (i >= 0 && i < s.length ? s[i] : \"\");\r\n\r\n/** tevilni vejici (decimalna ali tisoika) */\r\nfunction isNumericComma(original, corrected, kind, pos) {\r\n  const s = kind === \"delete\" ? original : corrected;\r\n  const prev = charAtSafe(s, pos - 1);\r\n  const next = charAtSafe(s, pos + 1);\r\n  return isDigit(prev) && isDigit(next);\r\n}\r\n\r\n/** Guard: ali so se spremenile samo vejice */\r\nfunction onlyCommasChanged(original, corrected) {\r\n  const strip = (x) => x.replace(/,/g, \"\");\r\n  return strip(original) === strip(corrected);\r\n}\r\n\r\n/** Minimalni diff: samo operacije z vejicami */\r\nfunction diffCommasOnly(original, corrected) {\r\n  const ops = [];\r\n  let i = 0,\r\n    j = 0;\r\n  while (i < original.length || j < corrected.length) {\r\n    const o = original[i] ?? \"\";\r\n    const c = corrected[j] ?? \"\";\r\n    if (o === c) {\r\n      i++;\r\n      j++;\r\n      continue;\r\n    }\r\n    if (c === \",\" && o !== \",\") {\r\n      ops.push({ kind: \"insert\", pos: j, originalPos: i, correctedPos: j });\r\n      j++;\r\n      continue;\r\n    }\r\n    if (o === \",\" && c !== \",\") {\r\n      ops.push({ kind: \"delete\", pos: i, originalPos: i, correctedPos: j });\r\n      i++;\r\n      continue;\r\n    }\r\n    if (o) i++;\r\n    if (c) j++;\r\n  }\r\n  return ops;\r\n}\r\n\r\n/** Filtriraj operacije (izloi tevilne vejice, dodaj presledek kasneje, e treba) */\r\nfunction filterCommaOps(original, corrected, ops) {\r\n  return ops.filter((op) => {\r\n    if (isNumericComma(original, corrected, op.kind, op.pos)) return false;\r\n    if (op.kind === \"insert\") {\r\n      const next = charAtSafe(corrected, op.pos + 1);\r\n      const noSpaceAfter = next && !/\\s/.test(next);\r\n      if (noSpaceAfter && !QUOTES.has(next)) {\r\n        // dovolimo; presledek dodamo naknadno\r\n        return true;\r\n      }\r\n    }\r\n    return true;\r\n  });\r\n}\r\n\r\n/** Anchor-based mikro urejanje (ohrani formatiranje) */\r\nfunction makeAnchor(text, idx, span = 16) {\r\n  const left = text.slice(Math.max(0, idx - span), idx);\r\n  const right = text.slice(idx, Math.min(text.length, idx + span));\r\n  return { left, right };\r\n}\r\n\r\nfunction findInsertIndex(original = \"\", left = \"\", right = \"\") {\r\n  if (left && right) {\r\n    const candidates = [];\r\n    let pos = original.indexOf(left);\r\n    while (pos >= 0) {\r\n      const idx = pos + left.length;\r\n      const tail = original.slice(idx, idx + right.length);\r\n      if (!right || tail === right.slice(0, tail.length)) candidates.push(idx);\r\n      pos = original.indexOf(left, pos + 1);\r\n    }\r\n    if (candidates.length) return candidates[0];\r\n  }\r\n  if (left) {\r\n    const idx = original.lastIndexOf(left);\r\n    if (idx >= 0) return idx + left.length;\r\n  }\r\n  if (right) {\r\n    const idx = original.indexOf(right);\r\n    if (idx >= 0) return idx;\r\n  }\r\n  return -1;\r\n}\r\n\r\nfunction commaAlreadyPresent(original = \"\", left = \"\", right = \"\") {\r\n  const insertIdx = findInsertIndex(original, left, right);\r\n  if (insertIdx < 0) return false;\r\n  const prev = original[insertIdx - 1];\r\n  const at = original[insertIdx];\r\n  return prev === \",\" || at === \",\";\r\n}\r\n\r\nfunction resolveOpPositions(opOrPos) {\r\n  if (opOrPos && typeof opOrPos === \"object\") {\r\n    const correctedPos =\r\n      typeof opOrPos.correctedPos === \"number\"\r\n        ? opOrPos.correctedPos\r\n        : typeof opOrPos.pos === \"number\"\r\n          ? opOrPos.pos\r\n          : -1;\r\n    const originalPos =\r\n      typeof opOrPos.originalPos === \"number\" ? opOrPos.originalPos : correctedPos;\r\n    return { correctedPos, originalPos };\r\n  }\r\n  const pos = typeof opOrPos === \"number\" ? opOrPos : -1;\r\n  return { correctedPos: pos, originalPos: pos };\r\n}\r\n\r\nasync function removeDoubleCommas(context, paragraph) {\r\n  let passes = 0;\r\n  while (passes < 3) {\r\n    const matches = paragraph.search(\",,\", { matchCase: false, matchWholeWord: false });\r\n    matches.load(\"items\");\r\n    await context.sync();\r\n    if (!matches.items.length) break;\r\n    matches.items.forEach((r) => r.insertText(\",\", Word.InsertLocation.replace));\r\n    await context.sync();\r\n    passes++;\r\n  }\r\n}\r\n\r\n// Vstavi vejico na podlagi sidra\r\nasync function insertCommaAt(context, paragraph, original, corrected, opOrPos) {\r\n  const { correctedPos, originalPos } = resolveOpPositions(opOrPos);\r\n  if (!Number.isFinite(correctedPos) || correctedPos < 0) return;\r\n  // Direct position guard: if a comma is already at/adjacent to the target, skip.\r\n  const pos = Math.max(0, correctedPos);\r\n  const prevChar = pos > 0 ? original[pos - 1] : \"\";\r\n  const atChar = pos < original.length ? original[pos] : \"\";\r\n  if (prevChar === \",\" || atChar === \",\") {\r\n    warn(\"insert: comma already at/near target (pos check); skipping\");\r\n    return;\r\n  }\r\n\r\n  const { left, right } = makeAnchor(corrected, correctedPos);\r\n  if (commaAlreadyPresent(original, left, right)) {\r\n    warn(\"insert: comma already present at target; skipping\");\r\n    return;\r\n  }\r\n  const pr = paragraph.getRange();\r\n\r\n  if (left.length > 0) {\r\n    const m = pr.search(left, { matchCase: false, matchWholeWord: false });\r\n    m.load(\"items\");\r\n    await context.sync();\r\n    if (!m.items.length) {\r\n      warn(\"insert: left anchor not found\");\r\n      return;\r\n    }\r\n    let targetIdx = m.items.length - 1;\r\n    if (typeof originalPos === \"number\" && originalPos >= 0) {\r\n      const ordinal = countSnippetOccurrencesBefore(original, left, originalPos);\r\n      if (ordinal > 0) {\r\n        targetIdx = Math.min(ordinal - 1, m.items.length - 1);\r\n      }\r\n    }\r\n    const after = m.items[targetIdx].getRange(\"After\");\r\n    after.insertText(\",\", Word.InsertLocation.before);\r\n  } else {\r\n    if (!right) {\r\n      warn(\"insert: no right anchor at paragraph start\");\r\n      return;\r\n    }\r\n    const rightClean =\r\n      typeof right === \"string\" ? right.replace(/^,+/, \"\").replace(/,/g, \"\").trim() : \"\";\r\n    if (!rightClean) {\r\n      warn(\"insert: right anchor unavailable\");\r\n      return;\r\n    }\r\n    const snippet = rightClean.slice(0, 12);\r\n    const m = pr.search(snippet, { matchCase: false, matchWholeWord: false });\r\n    m.load(\"items\");\r\n    await context.sync();\r\n    if (!m.items.length) {\r\n      warn(\"insert: right anchor not found\");\r\n      return;\r\n    }\r\n    const before = m.items[0].getRange(\"Before\");\r\n    before.insertText(\",\", Word.InsertLocation.before);\r\n  }\r\n}\r\n\r\n// Po potrebi dodaj presledek po vejici (razen pred narekovaji ali tevkami)\r\nasync function ensureSpaceAfterComma(context, paragraph, original, corrected, opOrPos) {\r\n  const { correctedPos, originalPos } = resolveOpPositions(opOrPos);\r\n  if (!Number.isFinite(correctedPos) || correctedPos < 0) return;\r\n  const next = charAtSafe(corrected, correctedPos + 1);\r\n  if (!next || /\\s/.test(next) || QUOTES.has(next) || isDigit(next)) return;\r\n\r\n  const { left, right } = makeAnchor(corrected, correctedPos + 1);\r\n  const pr = paragraph.getRange();\r\n\r\n  if (left.length > 0) {\r\n    const m = pr.search(left, { matchCase: false, matchWholeWord: false });\r\n    m.load(\"items\");\r\n    await context.sync();\r\n    if (!m.items.length) {\r\n      warn(\"space-after: left anchor not found\");\r\n      return;\r\n    }\r\n    let targetIdx = m.items.length - 1;\r\n    if (typeof originalPos === \"number\" && originalPos >= 0) {\r\n      const ordinal = countSnippetOccurrencesBefore(original, left, originalPos);\r\n      if (ordinal > 0) {\r\n        targetIdx = Math.min(ordinal - 1, m.items.length - 1);\r\n      }\r\n    }\r\n    const beforeRight = m.items[targetIdx].getRange(\"Before\");\r\n    beforeRight.insertText(\" \", Word.InsertLocation.before);\r\n  } else if (right.length > 0) {\r\n    const rightClean =\r\n      typeof right === \"string\" ? right.replace(/^,+/, \"\").replace(/,/g, \"\").trim() : \"\";\r\n    if (!rightClean) {\r\n      warn(\"space-after: right anchor unavailable\");\r\n      return;\r\n    }\r\n    const snippet = rightClean.slice(0, 12);\r\n    const m = pr.search(snippet, { matchCase: false, matchWholeWord: false });\r\n    m.load(\"items\");\r\n    await context.sync();\r\n    if (!m.items.length) {\r\n      warn(\"space-after: right anchor not found\");\r\n      return;\r\n    }\r\n    const before = m.items[0].getRange(\"Before\");\r\n    before.insertText(\" \", Word.InsertLocation.before);\r\n  }\r\n}\r\n\r\n// Brii samo znak vejice\r\nasync function deleteCommaAt(context, paragraph, original, atOriginalPos) {\r\n  const pr = paragraph.getRange();\r\n  let ordinal = 0;\r\n  for (let i = 0; i <= atOriginalPos && i < original.length; i++) {\r\n    if (original[i] === \",\") ordinal++;\r\n  }\r\n  if (ordinal === 0) {\r\n    warn(\"delete: no comma found in original at pos\", atOriginalPos);\r\n    return;\r\n  }\r\n  const matches = pr.search(\",\", { matchCase: false, matchWholeWord: false });\r\n  matches.load(\"items\");\r\n  await context.sync();\r\n  const idx = ordinal - 1;\r\n  if (idx >= matches.items.length) {\r\n    warn(\"delete: comma ordinal out of range\", ordinal, \"/\", matches.items.length);\r\n    return;\r\n  }\r\n  matches.items[idx].insertText(\"\", Word.InsertLocation.replace);\r\n}\r\n\r\nfunction createSuggestionId(kind, paragraphIndex, pos) {\r\n  return `${kind}-${paragraphIndex}-${pos}-${pendingSuggestionsOnline.length}`;\r\n}\r\n\r\nasync function highlightSuggestionOnline(\r\n  context,\r\n  paragraph,\r\n  original,\r\n  corrected,\r\n  op,\r\n  paragraphIndex,\r\n  paragraphAnchors\r\n) {\r\n  if (op.kind === \"delete\") {\r\n    return highlightDeleteSuggestion(\r\n      context,\r\n      paragraph,\r\n      original,\r\n      op,\r\n      paragraphIndex,\r\n      paragraphAnchors\r\n    );\r\n  }\r\n  return highlightInsertSuggestion(\r\n    context,\r\n    paragraph,\r\n    corrected,\r\n    op,\r\n    paragraphIndex,\r\n    paragraphAnchors\r\n  );\r\n}\r\n\r\nfunction countCommasUpTo(text, pos) {\r\n  let count = 0;\r\n  for (let i = 0; i <= pos && i < text.length; i++) {\r\n    if (text[i] === \",\") count++;\r\n  }\r\n  return count;\r\n}\r\n\r\nasync function highlightDeleteSuggestion(\r\n  context,\r\n  paragraph,\r\n  original,\r\n  op,\r\n  paragraphIndex,\r\n  anchorsEntry\r\n) {\r\n  const metadata = buildDeleteSuggestionMetadata(anchorsEntry, op.originalPos ?? op.pos);\r\n  let targetRange = await getRangeForCharacterSpan(\r\n    context,\r\n    paragraph,\r\n    original,\r\n    metadata.charStart,\r\n    metadata.charEnd,\r\n    \"highlight-delete\",\r\n    metadata.highlightText\r\n  );\r\n\r\n  if (!targetRange) {\r\n    targetRange = await findCommaRangeByOrdinal(context, paragraph, original, op);\r\n    if (!targetRange) return false;\r\n  }\r\n\r\n  targetRange.font.highlightColor = HIGHLIGHT_DELETE;\r\n  context.trackedObjects.add(targetRange);\r\n  addPendingSuggestionOnline({\r\n    id: createSuggestionId(\"del\", paragraphIndex, op.pos),\r\n    kind: \"delete\",\r\n    paragraphIndex,\r\n    originalPos: op.pos,\r\n    highlightRange: targetRange,\r\n    metadata,\r\n  });\r\n  markParagraphTouched(paragraphIndex);\r\n  return true;\r\n}\r\n\r\nasync function highlightInsertSuggestion(\r\n  context,\r\n  paragraph,\r\n  corrected,\r\n  op,\r\n  paragraphIndex,\r\n  anchorsEntry\r\n) {\r\n  const metadata = buildInsertSuggestionMetadata(anchorsEntry, {\r\n    originalCharIndex: op.originalPos ?? op.pos,\r\n    targetCharIndex: op.correctedPos ?? op.pos,\r\n  });\r\n\r\n  const anchor = makeAnchor(corrected, op.pos);\r\n  const rawLeft = anchor.left || \"\";\r\n  const rawRight = anchor.right || corrected.slice(op.pos, op.pos + 24);\r\n  const leftSnippetStored = rawLeft.slice(-40);\r\n  const rightSnippetStored = rawRight.slice(0, 40);\r\n\r\n  const lastWord = extractLastWord(rawLeft);\r\n  let leftContext = rawLeft.slice(-20).replace(/[\\r\\n]+/g, \" \");\r\n  const searchOpts = { matchCase: false, matchWholeWord: false };\r\n  let range = null;\r\n\r\n  if (!range && lastWord) {\r\n    const wordSearch = paragraph.getRange().search(lastWord, {\r\n      matchCase: false,\r\n      matchWholeWord: true,\r\n    });\r\n    wordSearch.load(\"items\");\r\n    await context.sync();\r\n    if (wordSearch.items.length) {\r\n      range = wordSearch.items[wordSearch.items.length - 1];\r\n    }\r\n  }\r\n\r\n  if (!range && leftContext.trim()) {\r\n    const leftSearch = paragraph.getRange().search(leftContext.trim(), searchOpts);\r\n    leftSearch.load(\"items\");\r\n    await context.sync();\r\n    if (leftSearch.items.length) {\r\n      range = leftSearch.items[leftSearch.items.length - 1];\r\n    }\r\n  }\r\n\r\n  if (!range) {\r\n    let rightSnippet = rightSnippetStored.replace(/,/g, \"\").trim();\r\n    rightSnippet = rightSnippet.slice(0, 8);\r\n    if (rightSnippet) {\r\n      const rightSearch = paragraph.getRange().search(rightSnippet, searchOpts);\r\n      rightSearch.load(\"items\");\r\n      await context.sync();\r\n      if (rightSearch.items.length) {\r\n        range = rightSearch.items[0];\r\n      }\r\n    }\r\n  }\r\n\r\n  if (!range) {\r\n    warn(\"highlight insert: could not locate snippet\");\r\n    range = await getRangeForCharacterSpan(\r\n      context,\r\n      paragraph,\r\n      anchorsEntry?.originalText ?? corrected,\r\n      metadata.highlightCharStart,\r\n      metadata.highlightCharEnd,\r\n      \"highlight-insert\",\r\n      metadata.highlightText\r\n    );\r\n    if (!range) return false;\r\n  }\r\n\r\n  try {\r\n    range = range.getRange(\"Content\");\r\n  } catch (err) {\r\n    warn(\"highlight insert: failed to focus range\", err);\r\n  }\r\n\r\n  range.font.highlightColor = HIGHLIGHT_INSERT;\r\n  context.trackedObjects.add(range);\r\n  addPendingSuggestionOnline({\r\n    id: createSuggestionId(\"ins\", paragraphIndex, op.pos),\r\n    kind: \"insert\",\r\n    paragraphIndex,\r\n    leftWord: lastWord,\r\n    leftSnippet: leftSnippetStored,\r\n    rightSnippet: rightSnippetStored,\r\n    highlightRange: range,\r\n    metadata,\r\n  });\r\n  markParagraphTouched(paragraphIndex);\r\n  return true;\r\n}\r\n\r\nasync function findCommaRangeByOrdinal(context, paragraph, original, op) {\r\n  const ordinal = countCommasUpTo(original, op.pos);\r\n  if (ordinal <= 0) {\r\n    warn(\"highlight delete: no comma ordinal\", op);\r\n    return null;\r\n  }\r\n  const commaSearch = paragraph.getRange().search(\",\", { matchCase: false, matchWholeWord: false });\r\n  commaSearch.load(\"items\");\r\n  await context.sync();\r\n  if (!commaSearch.items.length || ordinal > commaSearch.items.length) {\r\n    warn(\"highlight delete: comma search out of range\");\r\n    return null;\r\n  }\r\n  return commaSearch.items[ordinal - 1];\r\n}\r\n\r\nfunction extractLastWord(text) {\r\n  const match = text.match(/([\\p{L}\\d]+)[^\\p{L}\\d]*$/u);\r\n  return match ? match[1] : \"\";\r\n}\r\n\r\nasync function tryApplyDeleteUsingMetadata(context, paragraph, suggestion) {\r\n  const meta = suggestion?.metadata;\r\n  if (!meta) return false;\r\n\r\n  const commaAnchor =\r\n    (meta.sourceTokenAt?.tokenText?.includes(\",\") && meta.sourceTokenAt) ||\r\n    (meta.sourceTokenAfter?.tokenText?.includes(\",\") && meta.sourceTokenAfter) ||\r\n    (meta.sourceTokenBefore?.tokenText?.includes(\",\") && meta.sourceTokenBefore);\r\n  if (commaAnchor) {\r\n    const tokenRange = await findTokenRangeForAnchor(context, paragraph, commaAnchor);\r\n    if (tokenRange) {\r\n      tokenRange.load(\"text\");\r\n      await context.sync();\r\n      const text = tokenRange.text || \"\";\r\n      const commaIndex = text.indexOf(\",\");\r\n      if (commaIndex >= 0) {\r\n        const newText = text.slice(0, commaIndex) + text.slice(commaIndex + 1);\r\n        tokenRange.insertText(newText, Word.InsertLocation.replace);\r\n        return true;\r\n      }\r\n      const commaSearch = tokenRange.search(\",\", { matchCase: false, matchWholeWord: false });\r\n      commaSearch.load(\"items\");\r\n      await context.sync();\r\n      if (commaSearch.items.length) {\r\n        commaSearch.items[0].insertText(\"\", Word.InsertLocation.replace);\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  if (!Number.isFinite(meta.charStart) || meta.charStart < 0) return false;\r\n  const entry = getParagraphTokenAnchorsOnline(suggestion.paragraphIndex);\r\n  const range = await getRangeForCharacterSpan(\r\n    context,\r\n    paragraph,\r\n    entry?.originalText ?? paragraph.text,\r\n    meta.charStart,\r\n    meta.charEnd,\r\n    \"apply-delete\",\r\n    meta.highlightText\r\n  );\r\n  if (!range) return false;\r\n  range.insertText(\"\", Word.InsertLocation.replace);\r\n  return true;\r\n}\r\n\r\nasync function tryApplyDeleteUsingHighlight(suggestion) {\r\n  if (!suggestion?.highlightRange) return false;\r\n  try {\r\n    suggestion.highlightRange.insertText(\"\", Word.InsertLocation.replace);\r\n    return true;\r\n  } catch (err) {\r\n    warn(\"apply delete: highlight range removal failed\", err);\r\n    return false;\r\n  }\r\n}\r\n\r\nasync function applyDeleteSuggestionLegacy(context, paragraph, suggestion) {\r\n  const ordinal = countCommasUpTo(paragraph.text || \"\", suggestion.originalPos);\r\n  if (ordinal <= 0) {\r\n    warn(\"apply delete: no ordinal\");\r\n    return;\r\n  }\r\n  const commaSearch = paragraph.getRange().search(\",\", { matchCase: false, matchWholeWord: false });\r\n  commaSearch.load(\"items\");\r\n  await context.sync();\r\n  const idx = ordinal - 1;\r\n  if (!commaSearch.items.length || idx >= commaSearch.items.length) {\r\n    warn(\"apply delete: ordinal out of range\");\r\n    return;\r\n  }\r\n  commaSearch.items[idx].insertText(\"\", Word.InsertLocation.replace);\r\n}\r\n\r\nasync function applyDeleteSuggestion(context, paragraph, suggestion) {\r\n  if (await tryApplyDeleteUsingMetadata(context, paragraph, suggestion)) return;\r\n  if (await tryApplyDeleteUsingHighlight(suggestion)) return;\r\n  await applyDeleteSuggestionLegacy(context, paragraph, suggestion);\r\n}\r\n\r\nasync function findTokenRangeForAnchor(context, paragraph, anchorSnapshot) {\r\n  if (!anchorSnapshot?.tokenText) return null;\r\n  const fallbackOrdinal =\r\n    typeof anchorSnapshot.textOccurrence === \"number\"\r\n      ? anchorSnapshot.textOccurrence\r\n      : typeof anchorSnapshot.tokenIndex === \"number\"\r\n        ? anchorSnapshot.tokenIndex\r\n        : 0;\r\n  const tryFind = async (text, ordinalHint) => {\r\n    if (!text) return null;\r\n    const matches = paragraph.getRange().search(text, {\r\n      matchCase: false,\r\n      matchWholeWord: false,\r\n    });\r\n    matches.load(\"items\");\r\n    await context.sync();\r\n    if (!matches.items.length) return null;\r\n    const ordinal =\r\n      typeof ordinalHint === \"number\"\r\n        ? ordinalHint\r\n        : typeof anchorSnapshot.tokenIndex === \"number\"\r\n          ? anchorSnapshot.tokenIndex\r\n          : fallbackOrdinal;\r\n    const targetIndex = Math.max(0, Math.min(ordinal, matches.items.length - 1));\r\n    return matches.items[targetIndex];\r\n  };\r\n\r\n  let range = await tryFind(anchorSnapshot.tokenText, anchorSnapshot.textOccurrence);\r\n  if (range) return range;\r\n  const trimmed = anchorSnapshot.tokenText.trim();\r\n  if (trimmed && trimmed !== anchorSnapshot.tokenText) {\r\n    range = await tryFind(trimmed, anchorSnapshot.trimmedTextOccurrence);\r\n    if (range) return range;\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction selectInsertAnchor(meta) {\r\n  if (!meta) return null;\r\n  const candidates = [\r\n    meta.sourceTokenAfter\r\n      ? { anchor: meta.sourceTokenAfter, location: Word.InsertLocation.before }\r\n      : null,\r\n    meta.sourceTokenAt ? { anchor: meta.sourceTokenAt, location: Word.InsertLocation.after } : null,\r\n    meta.sourceTokenBefore\r\n      ? { anchor: meta.sourceTokenBefore, location: Word.InsertLocation.after }\r\n      : null,\r\n    meta.targetTokenBefore\r\n      ? { anchor: meta.targetTokenBefore, location: Word.InsertLocation.before }\r\n      : null,\r\n    meta.targetTokenAt ? { anchor: meta.targetTokenAt, location: Word.InsertLocation.after } : null,\r\n  ].filter(Boolean);\r\n  for (const candidate of candidates) {\r\n    if (\r\n      candidate?.anchor?.matched &&\r\n      Number.isFinite(candidate.anchor.charStart) &&\r\n      candidate.anchor.charStart >= 0\r\n    ) {\r\n      return candidate;\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nasync function tryApplyInsertUsingMetadata(context, paragraph, suggestion) {\r\n  const meta = suggestion?.metadata;\r\n  if (!meta) return false;\r\n  const anchorInfo = selectInsertAnchor(meta);\r\n  if (!anchorInfo) return false;\r\n  const entry = getParagraphTokenAnchorsOnline(suggestion.paragraphIndex);\r\n  const range = await getRangeForCharacterSpan(\r\n    context,\r\n    paragraph,\r\n    entry?.originalText ?? paragraph.text,\r\n    anchorInfo.anchor.charStart,\r\n    anchorInfo.anchor.charEnd,\r\n    \"apply-insert-anchor\",\r\n    anchorInfo.anchor.tokenText || meta.highlightText\r\n  );\r\n  if (!range) return false;\r\n  try {\r\n    if (anchorInfo.location === Word.InsertLocation.before) {\r\n      range.insertText(\",\", Word.InsertLocation.before);\r\n    } else {\r\n      range.getRange(\"After\").insertText(\",\", Word.InsertLocation.before);\r\n    }\r\n  } catch (err) {\r\n    warn(\"apply insert metadata: failed to insert via anchor\", err);\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nasync function applyInsertSuggestionLegacy(context, paragraph, suggestion) {\r\n  const range = await findRangeForInsert(context, paragraph, suggestion);\r\n  if (!range) {\r\n    warn(\"apply insert: unable to locate range\");\r\n    return;\r\n  }\r\n  const after = range.getRange(\"After\");\r\n  after.insertText(\",\", Word.InsertLocation.before);\r\n}\r\n\r\nasync function applyInsertSuggestion(context, paragraph, suggestion) {\r\n  if (await tryApplyInsertUsingMetadata(context, paragraph, suggestion)) return;\r\n  await applyInsertSuggestionLegacy(context, paragraph, suggestion);\r\n}\r\n\r\nasync function normalizeCommaSpacingInParagraph(context, paragraph) {\r\n  paragraph.load(\"text\");\r\n  await context.sync();\r\n  const text = paragraph.text || \"\";\r\n  if (!text.includes(\",\")) return;\r\n\r\n  for (let idx = text.length - 1; idx >= 0; idx--) {\r\n    if (text[idx] !== \",\") continue;\r\n    if (idx > 0 && /\\s/.test(text[idx - 1])) {\r\n      const toTrim = await getRangeForCharacterSpan(\r\n        context,\r\n        paragraph,\r\n        text,\r\n        idx - 1,\r\n        idx,\r\n        \"trim-space-before-comma\",\r\n        \" \"\r\n      );\r\n      if (toTrim) {\r\n        toTrim.insertText(\"\", Word.InsertLocation.replace);\r\n      }\r\n    }\r\n\r\n    const nextChar = text[idx + 1] ?? \"\";\r\n    if (!nextChar) continue;\r\n    if (!/\\s/.test(nextChar) && !QUOTES.has(nextChar) && !isDigit(nextChar)) {\r\n      const afterRange = await getRangeForCharacterSpan(\r\n        context,\r\n        paragraph,\r\n        text,\r\n        idx + 1,\r\n        idx + 2,\r\n        \"space-after-comma\",\r\n        nextChar\r\n      );\r\n      if (afterRange) {\r\n        afterRange.insertText(\" \", Word.InsertLocation.before);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nasync function cleanupCommaSpacingForParagraphs(context, paragraphs, indexes) {\r\n  if (!indexes?.size) return;\r\n  for (const idx of indexes) {\r\n    const paragraph = paragraphs.items[idx];\r\n    if (!paragraph) continue;\r\n    try {\r\n      await normalizeCommaSpacingInParagraph(context, paragraph);\r\n    } catch (err) {\r\n      warn(\"Failed to normalize comma spacing\", err);\r\n    }\r\n  }\r\n}\r\n\r\nasync function findRangeForInsert(context, paragraph, suggestion) {\r\n  const searchOpts = { matchCase: false, matchWholeWord: false };\r\n  let range = null;\r\n\r\n  if (suggestion.leftWord) {\r\n    const wordSearch = paragraph.getRange().search(suggestion.leftWord, {\r\n      matchCase: false,\r\n      matchWholeWord: true,\r\n    });\r\n    wordSearch.load(\"items\");\r\n    await context.sync();\r\n    if (wordSearch.items.length) {\r\n      range = wordSearch.items[wordSearch.items.length - 1];\r\n    }\r\n  }\r\n\r\n  let leftFrag = (suggestion.leftSnippet || \"\").slice(-20).replace(/[\\r\\n]+/g, \" \");\r\n\r\n  if (!range && leftFrag.trim()) {\r\n    const leftSearch = paragraph.getRange().search(leftFrag.trim(), searchOpts);\r\n    leftSearch.load(\"items\");\r\n    await context.sync();\r\n    if (leftSearch.items.length) {\r\n      range = leftSearch.items[leftSearch.items.length - 1];\r\n    }\r\n  }\r\n\r\n  if (!range) {\r\n    let rightFrag = (suggestion.rightSnippet || \"\").replace(/,/g, \"\").trim();\r\n    rightFrag = rightFrag.slice(0, 8);\r\n    if (rightFrag) {\r\n      const rightSearch = paragraph.getRange().search(rightFrag, searchOpts);\r\n      rightSearch.load(\"items\");\r\n      await context.sync();\r\n      if (rightSearch.items.length) {\r\n        range = rightSearch.items[0];\r\n      }\r\n    }\r\n  }\r\n\r\n  return range;\r\n}\r\n\r\nasync function clearHighlightForSuggestion(context, paragraph, suggestion) {\r\n  if (!suggestion) return;\r\n  if (suggestion.highlightRange) {\r\n    try {\r\n      suggestion.highlightRange.font.highlightColor = null;\r\n      context.trackedObjects.remove(suggestion.highlightRange);\r\n    } catch (err) {\r\n      warn(\"clearHighlightForSuggestion: failed via highlightRange\", err);\r\n    } finally {\r\n      suggestion.highlightRange = null;\r\n    }\r\n    return;\r\n  }\r\n  const meta = suggestion.metadata;\r\n  if (!meta) return;\r\n  const entry = paragraphTokenAnchorsOnline[suggestion.paragraphIndex];\r\n  const paragraphText = entry?.originalText ?? paragraph?.text ?? \"\";\r\n  const charStart =\r\n    typeof meta.highlightCharStart === \"number\" ? meta.highlightCharStart : meta.charStart;\r\n  const charEnd = typeof meta.highlightCharEnd === \"number\" ? meta.highlightCharEnd : meta.charEnd;\r\n  if (!paragraph || !paragraphText || !Number.isFinite(charStart)) return;\r\n  const range = await getRangeForCharacterSpan(\r\n    context,\r\n    paragraph,\r\n    paragraphText,\r\n    charStart,\r\n    charEnd,\r\n    \"clear-highlight\",\r\n    meta.highlightText || meta.highlightAnchorTarget?.tokenText\r\n  );\r\n  if (range) {\r\n    range.font.highlightColor = null;\r\n  }\r\n}\r\nasync function clearOnlineSuggestionMarkers(context, suggestionsOverride, paragraphs) {\r\n  const source =\r\n    Array.isArray(suggestionsOverride) && suggestionsOverride.length\r\n      ? suggestionsOverride\r\n      : pendingSuggestionsOnline;\r\n  const clearHighlight = (sug) => {\r\n    if (!sug?.highlightRange) return;\r\n    try {\r\n      sug.highlightRange.font.highlightColor = null;\r\n      context.trackedObjects.remove(sug.highlightRange);\r\n    } catch (err) {\r\n      warn(\"Failed to clear highlight\", err);\r\n    } finally {\r\n      sug.highlightRange = null;\r\n    }\r\n  };\r\n\r\n  if (!source.length) {\r\n    context.document.body.font.highlightColor = null;\r\n    await context.sync();\r\n    return;\r\n  }\r\n  for (const item of source) {\r\n    const suggestion = item?.suggestion ?? item;\r\n    if (!suggestion) continue;\r\n    const paragraph = item?.paragraph ?? paragraphs?.items?.[suggestion.paragraphIndex];\r\n    if (paragraph) {\r\n      await clearHighlightForSuggestion(context, paragraph, suggestion);\r\n    } else {\r\n      clearHighlight(suggestion);\r\n    }\r\n  }\r\n  await context.sync();\r\n  if (!suggestionsOverride) {\r\n    resetPendingSuggestionsOnline();\r\n  }\r\n}\r\n\r\nexport async function applyAllSuggestionsOnline() {\r\n  if (!pendingSuggestionsOnline.length) return;\r\n  await Word.run(async (context) => {\r\n    const paras = context.document.body.paragraphs;\r\n    paras.load(\"items/text\");\r\n    await context.sync();\r\n    const touchedIndexes = new Set(paragraphsTouchedOnline);\r\n    const processedSuggestions = [];\r\n\r\n    for (const sug of pendingSuggestionsOnline) {\r\n      const p = paras.items[sug.paragraphIndex];\r\n      if (!p) continue;\r\n      try {\r\n        if (sug.kind === \"delete\") {\r\n          await applyDeleteSuggestion(context, p, sug);\r\n        } else {\r\n          await applyInsertSuggestion(context, p, sug);\r\n        }\r\n        p.load(\"text\");\r\n        // Keep paragraph.text up-to-date for subsequent metadata lookups.\r\n        // eslint-disable-next-line office-addins/no-context-sync-in-loop\r\n        await context.sync();\r\n        processedSuggestions.push({ suggestion: sug, paragraph: p });\r\n      } catch (err) {\r\n        warn(\"applyAllSuggestionsOnline: failed to apply suggestion\", err);\r\n      }\r\n    }\r\n    // Flush any pending highlight removals before running formatting cleanup.\r\n    await context.sync();\r\n    await cleanupCommaSpacingForParagraphs(context, paras, touchedIndexes);\r\n    resetParagraphsTouchedOnline();\r\n    await clearOnlineSuggestionMarkers(context, processedSuggestions);\r\n    resetParagraphTokenAnchorsOnline();\r\n    resetPendingSuggestionsOnline();\r\n    context.document.body.font.highlightColor = null;\r\n    await context.sync();\r\n  });\r\n}\r\n\r\nexport async function rejectAllSuggestionsOnline() {\r\n  await Word.run(async (context) => {\r\n    const paras = context.document.body.paragraphs;\r\n    paras.load(\"items/text\");\r\n    await context.sync();\r\n    await clearOnlineSuggestionMarkers(context, null, paras);\r\n    context.document.body.font.highlightColor = null;\r\n    await context.sync();\r\n  });\r\n}\r\n/** \r\n *  MAIN: Preveri vejice  celoten dokument, po odstavkih\r\n *   */\r\nexport async function checkDocumentText() {\r\n  if (isWordOnline()) {\r\n    return checkDocumentTextOnline();\r\n  }\r\n  return checkDocumentTextDesktop();\r\n}\r\n\r\nasync function checkDocumentTextDesktop() {\r\n  log(\"START checkDocumentText()\");\r\n  let totalInserted = 0;\r\n  let totalDeleted = 0;\r\n  let paragraphsProcessed = 0;\r\n  let apiErrors = 0;\r\n\r\n  try {\r\n    await Word.run(async (context) => {\r\n      // naloi in zaasno vkljui sledenje spremembam\r\n      const doc = context.document;\r\n      let trackToggleSupported = false;\r\n      let prevTrack = false;\r\n      log(\"TrackRevisions toggle skipped; please enable Track Changes in Word if desired.\");\r\n\r\n      try {\r\n        // pridobi odstavke\r\n        const paras = context.document.body.paragraphs;\r\n        paras.load(\"items/text\");\r\n        await context.sync();\r\n        log(\"Paragraphs found:\", paras.items.length);\r\n\r\n        for (let idx = 0; idx < paras.items.length; idx++) {\r\n          const p = paras.items[idx];\r\n          let sourceText = p.text || \"\";\r\n          const trimmed = sourceText.trim();\r\n          if (!trimmed) continue;\r\n          if (trimmed.length > MAX_PARAGRAPH_CHARS) {\r\n            notifyParagraphTooLong(idx, trimmed.length);\r\n            continue;\r\n          }\r\n\r\n          const pStart = tnow();\r\n          paragraphsProcessed++;\r\n          log(`P${idx}: len=${sourceText.length} | \"${SNIP(trimmed)}\"`);\r\n          let passText = sourceText;\r\n\r\n          for (let pass = 0; pass < MAX_AUTOFIX_PASSES; pass++) {\r\n            let corrected;\r\n            try {\r\n              corrected = await popraviPoved(passText);\r\n            } catch (apiErr) {\r\n              apiErrors++;\r\n              warn(`P${idx} pass ${pass}: API call failed -> stop paragraph`, apiErr);\r\n              break;\r\n            }\r\n            log(`P${idx} pass ${pass}: corrected -> \"${SNIP(corrected)}\"`);\r\n\r\n            const opsAll = diffCommasOnly(passText, corrected);\r\n            const ops = filterCommaOps(passText, corrected, opsAll);\r\n            log(`P${idx} pass ${pass}: ops candidate=${opsAll.length}, after filter=${ops.length}`);\r\n\r\n            if (!ops.length) {\r\n              if (pass === 0) log(`P${idx}: no applicable comma ops`);\r\n              break;\r\n            }\r\n\r\n            for (const op of ops) {\r\n              if (op.kind === \"insert\") {\r\n                await insertCommaAt(context, p, passText, corrected, op);\r\n                await ensureSpaceAfterComma(context, p, passText, corrected, op);\r\n                totalInserted++;\r\n              } else {\r\n                await deleteCommaAt(context, p, passText, op.pos);\r\n                totalDeleted++;\r\n              }\r\n            }\r\n\r\n            // eslint-disable-next-line office-addins/no-context-sync-in-loop\r\n            await context.sync();\r\n            p.load(\"text\");\r\n            // eslint-disable-next-line office-addins/no-context-sync-in-loop\r\n            await context.sync();\r\n            const updated = p.text || \"\";\r\n            if (!updated || updated === passText) break;\r\n            passText = updated;\r\n          }\r\n\r\n          log(\r\n            `P${idx}: applied (ins=${totalInserted}, del=${totalDeleted}) | ${Math.round(\r\n              tnow() - pStart\r\n            )} ms`\r\n          );\r\n        }\r\n      } finally {\r\n        // Leave trackRevisions as-is; no restore to avoid host errors\r\n        void prevTrack;\r\n      }\r\n    });\r\n\r\n    log(\r\n      \"DONE checkDocumentText() | paragraphs:\",\r\n      paragraphsProcessed,\r\n      \"| inserted:\",\r\n      totalInserted,\r\n      \"| deleted:\",\r\n      totalDeleted,\r\n      \"| apiErrors:\",\r\n      apiErrors\r\n    );\r\n  } catch (e) {\r\n    errL(\"ERROR in checkDocumentText:\", e);\r\n  }\r\n}\r\n\r\nasync function checkDocumentTextOnline() {\r\n  log(\"START checkDocumentTextOnline()\");\r\n  let paragraphsProcessed = 0;\r\n  let suggestions = 0;\r\n  let apiErrors = 0;\r\n\r\n  try {\r\n    await Word.run(async (context) => {\r\n      const paras = context.document.body.paragraphs;\r\n      paras.load(\"items/text\");\r\n      await context.sync();\r\n      await clearOnlineSuggestionMarkers(context, null, paras);\r\n      resetPendingSuggestionsOnline();\r\n      resetParagraphsTouchedOnline();\r\n      resetParagraphTokenAnchorsOnline();\r\n\r\n      let documentCharOffset = 0;\r\n\r\n      for (let idx = 0; idx < paras.items.length; idx++) {\r\n        const p = paras.items[idx];\r\n        const original = p.text || \"\";\r\n        const trimmed = original.trim();\r\n        const paragraphDocOffset = documentCharOffset;\r\n        documentCharOffset += original.length + 1;\r\n        let paragraphAnchors = null;\r\n        if (!trimmed) {\r\n          paragraphAnchors = createParagraphTokenAnchors({\r\n            paragraphIndex: idx,\r\n            originalText: original,\r\n            correctedText: original,\r\n            sourceTokens: [],\r\n            targetTokens: [],\r\n            documentOffset: paragraphDocOffset,\r\n          });\r\n          continue;\r\n        }\r\n\r\n        paragraphsProcessed++;\r\n        log(`P${idx} ONLINE: len=${original.length} | \"${SNIP(trimmed)}\"`);\r\n        if (trimmed.length > MAX_PARAGRAPH_CHARS) {\r\n          notifyParagraphTooLong(idx, trimmed.length);\r\n          continue;\r\n        }\r\n\r\n        let detail;\r\n        try {\r\n          detail = await popraviPovedDetailed(original);\r\n        } catch (apiErr) {\r\n          apiErrors++;\r\n          warn(`P${idx}: API call failed -> skip paragraph`, apiErr);\r\n          paragraphAnchors = createParagraphTokenAnchors({\r\n            paragraphIndex: idx,\r\n            originalText: original,\r\n            correctedText: original,\r\n            sourceTokens: [],\r\n            targetTokens: [],\r\n            documentOffset: paragraphDocOffset,\r\n          });\r\n          continue;\r\n        }\r\n        const corrected = detail.correctedText;\r\n\r\n        paragraphAnchors = createParagraphTokenAnchors({\r\n          paragraphIndex: idx,\r\n          originalText: original,\r\n          correctedText: corrected,\r\n          sourceTokens: detail.sourceTokens,\r\n          targetTokens: detail.targetTokens,\r\n          documentOffset: paragraphDocOffset,\r\n        });\r\n\r\n        if (!onlyCommasChanged(original, corrected)) {\r\n          log(`P${idx}: API changed more than commas -> SKIP`);\r\n          continue;\r\n        }\r\n\r\n        const ops = filterCommaOps(original, corrected, diffCommasOnly(original, corrected));\r\n        if (!ops.length) continue;\r\n\r\n        for (const op of ops) {\r\n          const marked = await highlightSuggestionOnline(\r\n            context,\r\n            p,\r\n            original,\r\n            corrected,\r\n            op,\r\n            idx,\r\n            paragraphAnchors\r\n          );\r\n          if (marked) suggestions++;\r\n        }\r\n      }\r\n\r\n      await context.sync();\r\n    });\r\n\r\n    log(\r\n      \"DONE checkDocumentTextOnline() | paragraphs:\",\r\n      paragraphsProcessed,\r\n      \"| suggestions:\",\r\n      suggestions,\r\n      \"| apiErrors:\",\r\n      apiErrors\r\n    );\r\n  } catch (e) {\r\n    errL(\"ERROR in checkDocumentTextOnline:\", e);\r\n  }\r\n}\r\n","__webpack_require__.h = function() { return \"cb10e04a28ff7f80df25\"; }"],"names":["e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","return","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","_createForOfIteratorHelper","Array","isArray","_unsupportedIterableToArray","_n","F","s","next","_arrayLikeToArray","toString","slice","constructor","name","from","test","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_typeof","popraviPoved","popraviPovedDetailed","isWordOnline","envIsProd","_process$env","process","env","NODE_ENV","window","__VEJICE_ENV__","DEBUG_OVERRIDE","__VEJICE_DEBUG__","undefined","DEBUG","log","_console","_len","_key","console","concat","warn","_console2","_len2","_key2","errL","_console3","_len3","_key3","error","tnow","_performance$now","_performance","_performance$now2","performance","now","Date","SNIP","MAX_AUTOFIX_PASSES","Office","_Office","context","platform","HIGHLIGHT_INSERT","HIGHLIGHT_DELETE","pendingSuggestionsOnline","MAX_PARAGRAPH_CHARS","LONG_PARAGRAPH_MESSAGE","resetPendingSuggestionsOnline","addPendingSuggestionOnline","suggestion","push","getPendingSuggestionsOnline","debugSnapshot","map","sug","id","kind","paragraphIndex","metadata","originalPos","leftWord","leftSnippet","rightSnippet","__VEJICE_DEBUG_STATE__","getParagraphAnchorsOnline","paragraphTokenAnchorsOnline","getPendingSuggestionsSnapshot","paragraphsTouchedOnline","Set","resetParagraphsTouchedOnline","clear","markParagraphTouched","add","toastDialog","showToastNotification","message","_Office$context","ui","displayDialogAsync","origin","location","toastUrl","URL","searchParams","set","height","width","displayInIframe","asyncResult","status","AsyncResultStatus","Succeeded","close","err","closeDialog","addEventHandler","EventType","DialogMessageReceived","DialogEventReceived","notifyParagraphTooLong","label","msg","resetParagraphTokenAnchorsOnline","setParagraphTokenAnchorsOnline","anchors","getParagraphTokenAnchorsOnline","createParagraphTokenAnchors","_ref","_ref$originalText","originalText","_ref$correctedText","correctedText","_ref$sourceTokens","sourceTokens","_ref$targetTokens","targetTokens","_ref$documentOffset","documentOffset","safeOriginal","safeCorrected","normalizedSource","normalizeTokenList","normalizedTarget","entry","sourceAnchors","mapTokensToParagraphText","targetAnchors","tokens","prefix","normalized","idCounts","_idCounts$baseId","token","normalizeToken","baseId","count","originalId","occurrence","rawToken","index","text","raw","_ref2","_ref3","_ref4","_ref5","_rawToken$token_id","_ref6","_ref7","_ref8","_ref9","_rawToken$token","_ref0","_ref1","_ref10","_ref11","_rawToken$whitespace","_ref12","_ref13","_ref14","_rawToken$leading_ws","idCandidate","token_id","tokenId","ID","key","textCandidate","form","surface","word","trailing","whitespace","trailing_ws","trailingWhitespace","after","space","leading","leading_ws","leadingWhitespace","before","paragraphText","byId","ordered","safeParagraph","textOccurrences","trimmedOccurrences","cursor","_token$text","_token$id","_textOccurrences$text","_trimmedOccurrences$t","tokenText","tokenLength","charStart","resolveTokenPosition","charEnd","textKey","trimmedKey","trim","trimmedOccurrence","anchor","tokenIndex","textOccurrence","trimmedTextOccurrence","documentCharStart","documentCharEnd","matched","fromIndex","textLength","searchStart","idx","indexOf","trimmed","retryStart","Math","max","selectTokenAnchors","type","snapshotAnchor","findAnchorsNearChar","charIndex","_collection$ordered","collection","at","findNextAnchorWithPosition","list","startIndex","countSnippetOccurrencesBefore","snippet","limit","safeText","hop","getRangeForCharacterSpan","_x","_x2","_x3","_x4","_x5","_getRangeForCharacterSpan","_callee","paragraph","reason","fallbackSnippet","safeStart","computedEnd","safeEnd","matches","_args","_t","_context","getRange","Number","isFinite","min","floor","search","matchCase","matchWholeWord","ignoreSpace","ignorePunct","load","sync","items","buildDeleteSuggestionMetadata","_entry$documentOffset","_entry$originalText","_entry$paragraphIndex","sourceAround","highlightText","sourceTokenBefore","sourceTokenAt","sourceTokenAfter","buildInsertSuggestionMetadata","_ref15","_entry$documentOffset2","_ref16","_ref17","_ref18","_ref19","_sourceAround$after","_highlightAnchor$char","_highlightAnchor$char2","_entry$originalText2","_entry$paragraphIndex2","originalCharIndex","targetCharIndex","srcIndex","targetIndex","targetAround","highlightAnchor","highlightCharStart","highlightCharEnd","targetCharStart","targetCharEnd","targetDocumentCharStart","targetDocumentCharEnd","targetTokenBefore","targetTokenAt","targetTokenAfter","highlightAnchorTarget","QUOTES","isDigit","ch","charAtSafe","isNumericComma","original","corrected","pos","prev","onlyCommasChanged","strip","x","replace","diffCommasOnly","ops","j","_original$i","_corrected$j","correctedPos","filterCommaOps","filter","op","noSpaceAfter","has","makeAnchor","span","left","right","findInsertIndex","candidates","tail","lastIndexOf","commaAlreadyPresent","insertIdx","resolveOpPositions","opOrPos","removeDoubleCommas","_x6","_x7","_removeDoubleCommas","_callee2","passes","_context2","forEach","insertText","Word","InsertLocation","insertCommaAt","_x8","_x9","_x0","_x1","_x10","_insertCommaAt","_callee3","_resolveOpPositions","prevChar","atChar","_makeAnchor","pr","targetIdx","ordinal","rightClean","_m","_context3","ensureSpaceAfterComma","_x11","_x12","_x13","_x14","_x15","_ensureSpaceAfterComma","_callee4","_resolveOpPositions2","_makeAnchor2","beforeRight","_m2","_context4","deleteCommaAt","_x16","_x17","_x18","_x19","_deleteCommaAt","_callee5","atOriginalPos","_context5","createSuggestionId","highlightSuggestionOnline","_x20","_x21","_x22","_x23","_x24","_x25","_x26","_highlightSuggestionOnline","_callee6","paragraphAnchors","_context6","highlightDeleteSuggestion","highlightInsertSuggestion","countCommasUpTo","_x27","_x28","_x29","_x30","_x31","_x32","_highlightDeleteSuggestion","_callee7","anchorsEntry","_op$originalPos","targetRange","_context7","findCommaRangeByOrdinal","font","highlightColor","trackedObjects","highlightRange","_x33","_x34","_x35","_x36","_x37","_x38","_highlightInsertSuggestion","_callee8","_op$originalPos2","_op$correctedPos","rawLeft","rawRight","leftSnippetStored","rightSnippetStored","lastWord","leftContext","searchOpts","range","wordSearch","leftSearch","rightSearch","_anchorsEntry$origina","_context8","extractLastWord","_x39","_x40","_x41","_x42","_findCommaRangeByOrdinal","_callee9","commaSearch","_context9","match","tryApplyDeleteUsingMetadata","_x43","_x44","_x45","_tryApplyDeleteUsingMetadata","_callee0","_meta$sourceTokenAt","_meta$sourceTokenAfte","_meta$sourceTokenBefo","_entry$originalText3","meta","commaAnchor","tokenRange","commaIndex","newText","_context0","includes","findTokenRangeForAnchor","tryApplyDeleteUsingHighlight","_x46","_tryApplyDeleteUsingHighlight","_callee1","_t2","_context1","applyDeleteSuggestionLegacy","_x47","_x48","_x49","_applyDeleteSuggestionLegacy","_callee10","_context10","applyDeleteSuggestion","_x50","_x51","_x52","_applyDeleteSuggestion","_callee11","_context11","_x53","_x54","_x55","_findTokenRangeForAnchor","_callee13","anchorSnapshot","fallbackOrdinal","tryFind","_context13","_ref20","_callee12","ordinalHint","_context12","_x79","_x80","selectInsertAnchor","Boolean","_iterator","_step","_candidate$anchor","candidate","tryApplyInsertUsingMetadata","_x56","_x57","_x58","_tryApplyInsertUsingMetadata","_callee14","_entry$originalText4","anchorInfo","_t3","_context14","applyInsertSuggestionLegacy","_x59","_x60","_x61","_applyInsertSuggestionLegacy","_callee15","_context15","findRangeForInsert","applyInsertSuggestion","_x62","_x63","_x64","_applyInsertSuggestion","_callee16","_context16","normalizeCommaSpacingInParagraph","_x65","_x66","_normalizeCommaSpacingInParagraph","_callee17","_text","toTrim","nextChar","afterRange","_context17","cleanupCommaSpacingForParagraphs","_x67","_x68","_x69","_cleanupCommaSpacingForParagraphs","_callee18","paragraphs","indexes","_iterator2","_step2","_t4","_t5","_context18","size","_x70","_x71","_x72","_findRangeForInsert","_callee19","leftFrag","rightFrag","_context19","clearHighlightForSuggestion","_x73","_x74","_x75","_clearHighlightForSuggestion","_callee20","_ref21","_entry$originalText5","_meta$highlightAnchor","_context20","remove","clearOnlineSuggestionMarkers","_x76","_x77","_x78","_clearOnlineSuggestionMarkers","_callee21","suggestionsOverride","source","clearHighlight","_iterator3","_step3","_item$suggestion","_item$paragraph","_paragraphs$items","item","_t6","_context21","document","body","applyAllSuggestionsOnline","_applyAllSuggestionsOnline","_callee23","_context23","run","_ref22","_callee22","paras","touchedIndexes","processedSuggestions","_iterator4","_step4","_t7","_t8","_context22","_x81","rejectAllSuggestionsOnline","_rejectAllSuggestionsOnline","_callee25","_context25","_ref23","_callee24","_context24","_x82","checkDocumentText","_checkDocumentText","_callee26","_context26","checkDocumentTextOnline","checkDocumentTextDesktop","_checkDocumentTextDesktop","_callee28","totalInserted","totalDeleted","paragraphsProcessed","apiErrors","_t1","_context28","_ref24","_callee27","doc","trackToggleSupported","prevTrack","sourceText","pStart","passText","pass","opsAll","_iterator5","_step5","updated","_t9","_t0","_context27","round","_x83","_checkDocumentTextOnline","_callee30","suggestions","_t12","_context30","_ref25","_callee29","documentCharOffset","paragraphDocOffset","detail","_iterator6","_step6","marked","_t10","_t11","_context29","_x84"],"sourceRoot":""}